.header {
  margin-bottom:2rem;
  overflow: visible;
  height: auto;
  width:100%;
  top:0;
  left:0;
  position: relative;
  z-index:$zindex-navbar-fixed + 10;
  @include box-shadow(0 1px 2px 0 darken($card-border-color, 5));

  @include media-breakpoint-down(xs) {
    position: fixed;
  }


  &__nav {
    background: $card-bg;

    &__navbar {

      &__hamburger {
        float:left;
        transform: translateY(.5rem);
        padding-right:2rem;
      }

      &__user {
        height: $input-height + $input-padding-y/2rem;
        line-height: $input-height + $input-padding-y/2rem;
        border:1px solid $input-border-color;
        padding:2px;
        border-radius: $input-height;
        margin-left:10px;

        img {
          height: 100%;
          display:inline-block;
          float:left;
        }

        .dropdown-toggle:after {
          color:$text-muted;
          margin:0 5px;
        }

        .dropdown-menu {
          margin-top:1px; // Cover the navbar bottom border
          transform: translate(0, $navbar-padding-vertical);
        }
      }

      &__search {
        margin-left:1rem;

        &__input {
          border-radius:2rem;
          z-index:5;
          position:relative;
          padding-right:2rem;
        }

        &__addon {
          border:0;
          background:0;
          position:absolute;
          z-index:10;
          right:0;
          top:50%;
          transform: translateY(-50%);
        }
      }
    }

    &__menu {
      z-index:100;
      position: absolute;
      top:$navbar-height;
      left:0;
      right:0;
      background:inherit;
      padding:1rem;
      overflow: hidden;
      @include box-shadow(0 2px 2px darken($card-border-color, 5));
      @include transition(.4s);

      @include media-breakpoint-down(xs) {
        position: fixed;
        right: 20%;
        top:calc(#{$navbar-height} + 1px);
        bottom:0;
        overflow: auto;
        border-top:$card-border-color 1px solid;
      }

      &.ng-hide {
        opacity: 0;
        @include vendor-prefix(transform, translateY(-2rem));

        @include media-breakpoint-down(xs) {
          @include vendor-prefix(transform, translateX(-100%));
        }
      }

      &__links {

        ul {
          margin-bottom:10px;
        }

        &__heading {
          margin:10px 0;
          margin-top:20px;
        }

        &__item {
          margin-top:.5rem;
          height: 150px;
          cursor: pointer;
          opacity:0;
          animation:slideindown 300ms forwards;
          @include animation-delay-loop(0, 20, 150ms);

          @include media-breakpoint-down(xs) {
            animation:slideinright 300ms forwards;
          }

          &--active .card {
            background: $brand-primary;
            border-color: darken($brand-primary, 5%);
            color: white;
          }

          .card {
            height:100%;
            @include transition(700ms);
          }
        }
      }
    }
  }

  &__activity {
    position: relative;
    z-index:50;
    overflow: hidden;

    &__wrapper {
      padding: 0 $navbar-padding-horizontal;
      color:$card-bg;
      top:0;
      font-size: .9rem;
      height:2rem;
      line-height:2rem;
      white-space: nowrap;

      &__title {
        font-size: 1rem;
        font-weight: 100;
        position: relative;
        &:after {
          width:2rem;
          height:2rem;
          display: block;
          content:"";
          position: absolute;
          left:100%;
          top:50%;
          border:1px solid $card-bg;
          border-left:0;
          border-bottom:0;
          @include vendor-prefix(transform, translate(-50%, -50%) rotate(45deg) );
        }
      }
    }
  }
}
